@model HospitalProject.Models.ViewModels.UpdateAppointment

@{
    ViewBag.Title = "Edit";
}

<h2>Update Appointment</h2>

<div>
    <a href="/Appointment/List" class="btn btn-dblue btn-lg" role="button">
        <span class="glyphicon glyphicon-arrow-left"></span> Back to
        <br />the Appointment list
    </a>
</div>

<form class="editForm" method="POST" action="/Appointment/Update/@Model.SelectedAppointment.AppointID" enctype="multipart/form-data">
    <div class="form-group" style="display:none;">
        @* Pass through the appointment ID *@
        <input type="text" name="AID" value="@Model.SelectedAppointment.AppointID" />
    </div>
    <div class="form-group">
        <label>Date:</label>
        <input type="text" name="date" id="myDate" value="@Model.SelectedAppointment.Date.ToShortDateString()" />
    </div>
    <div class="form-group">
        <label>Time:</label>
        <input type="text" name="time" value="@Model.SelectedAppointment.Time" />
    </div>
    <div class="form-group">
        <label>Reason:</label>
        <input type="text" name="reason" value="@Model.SelectedAppointment.Reason" />
    </div>
    <div class="form-group">
        <label>Patient:</label>
        <select name="PID">
            @foreach (var patient in Model.PatientOptions)
            {
                string selected = "";
                if (patient.PatientID == Model.SelectedAppointment.PatientID)
                {
                    selected = "selected";
                }
                <option value="@patient.PatientID" @selected>@patient.PatientFName @patient.PatientFName</option>
            }
        </select>
    </div>
    <button type="submit" class="btn btn-primary" value="Update Appointment">Update Appointment</button>
</form>

>